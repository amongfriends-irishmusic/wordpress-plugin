Among Friends Wordpress Plugin
==============================

This plugin implements aspects of the behaviour of the [Among Friends][]
Wordpress site that should persist even when the theme is changed. In doing
so, it attempts to separate behaviour from both content and visualisation.

[Among Friends]: https://www.amongfriends.de/


Features
--------

- Allow regular WP pages to return HTTP status `410 Gone`
- Avoid saving protocol-absolute links to own site in database
- `[af_upcoming]` shortcode to show next performances on front page
  (requires [Posts in Page][])
- Clean up HTML header generated by Wordpress; in particular:
  - Disable Emoji stuff (for which Wordpress has a privacy leak as of 5.2)
  - Hide comment feed (which is currently empty, hence unneeded)
- Wordpress tool offering read-only server config file access
- Partial workaround for Gutenberg float clear issue ([#4127])

Additionally, developers have the option for a stacktrace for deprecated
functions in third-party modules as a debugging aid.

[Posts in Page]: https://ivycat.com/wordpress/wordpress-plugins/posts-in-page/
[#4127]: https://github.com/WordPress/gutenberg/issues/4127


Installation
------------

```sh
cd wp-content/plugins
git clone https://github.com/amongfriends-irishmusic/wordpress-plugin.git amongfriends

# To support modification through Wordpress's GUI,
# ensure www-data has write access - for example:
chgrp -R www-data amongfriends
chmod -R g+w amongfriends
```

Cloning from Github enables easy updating by `git pull` (after `git reset
--hard`, if need be). Manual installation is of course possible as well,
but installation through the Wordpress plugin repository is not supported.


Copying
-------

This plugin is offered for reuse under the GNU General Public License,
specifically [GPL version 2][] or (at your option) any later version.
(This might be required under the GPL’s provisions for linking.)

Please attribute the author as “Arne Johannessen” or (at your option)
offer a hyperlink to [the plugins’s Github repository][].

[GPL version 2]: https://github.com/amongfriends-irishmusic/wordpress-plugin/blob/master/LICENSE
[the plugins’s Github repository]: https://github.com/amongfriends-irishmusic/wordpress-plugin


To Do
-----

- Disable Gutenberg embed blocks (possible privacy leak)
- Make sticky posts and/or announcement posts stand out in performances
  category – is that still necessary, though?


Changelog
---------

1.0.2, 2022-03-26
- Add GitHub link to dashboard

1.0.1, 2022-02-08
- Ensure `[af_upcoming category=announcements]` only displays posts that
  also have the `performances` category (fixes URL paths, issue [#1][])

[#1]: https://github.com/amongfriends-irishmusic/wordpress-plugin/issues/1

1.0, 2019-06-19
- Add skeletal documentation, general cleanup and final release
- Remove XHTML-to-HTML transformation (not required for HTML5 parsers)

0.8, 2019-06-17
- Partial fix for Gutenberg float clear issue 

0.7, 2019-06-16
- Add WP tool offering read-only server config file access

0.6, 2019-06-16
- Clean up HTML header generated by Wordpress
- Hide empty comment feed

0.5, 2019-06-16
- Avoid protocol-specific links to own site in database
- Allow regular WP pages to return HTTP status 410

0.4, 2019-01-15
- Steps to replace both the old-style “rich” editor and Markdown with Gutenberg
- Bring AF shortcode up to date
- Allow reuse under GPL terms

0.3, 2015
- Add debugging aid: stacktrace for deprecated functions in third-party modules

0.2, 2015-03-18
- Transforming XHTML into HTML
- Attempt to hide the “rich” editor (in favour of Markdown)
- Implement AF shortcode for upcoming performances
